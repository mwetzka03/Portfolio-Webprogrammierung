<!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="detail_style.css">
        <link rel="stylesheet" href="user_style.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" type="image/x-icon" href="img/logo.png">
        <script src = "app.js"></script>
        <script src = "index.js"></script>
        <script src = "detail.js"></script>
        <script src = "user.js"></script>
        <script src = "router.js"></script>
        <title>CampusConnect</title>
    </head>
    <body>
        <header>
            <section class="brandname">
                <img class="logo" src="img/logo.png" alt="Logo">
                <h1>CampusConnect</h1>
            </section>
            <section class="nav-bar">
                <div class="search-bar" id="searchBar">
                    <input id="search-input" type="text" placeholder="Search..." onkeydown="performSearch(event)">
                </div>
                <i class="material-icons" style="font-size:36px" id="search" onclick="toggleSearchBar()">search</i>
                <a href="#"><i class="material-icons" style="font-size:36px" id="home">home</i></a>
                <i class="material-icons" style="font-size:36px" id="account">account_circle</i> 
                <i class="material-icons" style="font-size:36px" id="burger" onclick="toggleMenu()">menu</i>
                <div class="overlay">
                    <a href="#">Home</a>
                    <a href="#">Log In</a>
                    <a href="#">About</a>
                    <a href="#">Legal Disclosure</a>
                <div class="close-icon" onclick="toggleMenu()">&times;</div>
                </div>
            </section>
        </header>
        <main>
            <section class="section-eyecatcher">
                <!-- https://pixabay.com/de/photos/menschen-m%C3%A4nner-frauen-abschluss-2562626/ -->
            </section>
            <section id="page-home" class="page hidden">
                <h2>Newest Posts</h2>
                <div id="pagination"></div>
                <ul id="post-list"></ul>
            </section>
            <section id="page-search" class="page hidden">
                <h2>Search Results</h2>
                <ul id="search-results"></ul>
            </section>
            <section id="page-detail" class="page hidden">
                <div class = "post-detailed" id="post-detail"></div>
                <section class="section-comments">
                <h2>Comments</h2>    
                </section>
            </section>
            <section id="page-user" class="page hidden">
                <div id="biography"></div>
                <ul id="userpost-list"></ul>
            </section>
        </main>
        <footer>
        <div class="top-footer">
            <h1>CampusConnect</h1>
        </div>
        <div class="bottom-footer">
            <div class="social">
                <!-- https://pixabay.com/vectors/social-media-marketing-social-icons-5995266/ -->
                <a href="#"><img class="icon facebook" src="img/facebook.png"></a>
                <a href="https://www.instagram.com/official.mario03/"><img class="icon instagram" src="img/instagram.png"></a>
                <a href="https://twitter.com/__BrokenHunter_"><img class="icon twitter" src="img/twitter.png"></a>
                <a href="https://www.linkedin.com/in/mario-wetzka-3a6774268?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=ios_app"><img class="icon linkedin" src="img/linkedin.png"></a>
            </div>
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">About</a></li>
                <li><a href="#">Legal Disclosure</a></li>
            </ul>
            <p class="copyright">Mario Wetzka © 2023</p>
        </div>
    </footer>
    </body>
    <script>
        window.swapContent = (id, title) => {
            document.querySelectorAll(".page").forEach(pageElement => {
                pageElement.classList.add("hidden");
            });

            let elementsToShow = document.querySelector(`#${id}`);
            if (elementsToShow) {
                elementsToShow.classList.remove("hidden");
            }

            document.title = `${title} | CampusConnect`;
            // Suchfeld zurücksetzen
            const searchInput = document.getElementById('search-input');
            if (searchInput) {
                searchInput.value = "";
            }
        };
        window.addEventListener("load", () => {
            let routes = [
                {
                    url: "^/$",
                    show: () => swapContent("page-home", "Startseite"),
                },{
                    url: "^/posts/(.*)$",
                    show: (param) => {
                        showDetailedPost(param),
                        swapContent("page-detail", "Post");
                    }
                },{
                    url: "^/users/(.*)$",
                    show: (param) => {
                        showUser(param),
                        swapContent("page-user", "User");
                    }
                },{ 
                    url: "^/search\\?q=(.*)$",
                    show: () => {
                        performSearch(),
                        swapContent("page-search", "Search");
                    }
                }
            ];

            let router = new Router(routes);
            router.start();
        });
    </script>
</html>